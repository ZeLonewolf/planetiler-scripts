schema_name: OSMUS Trails
schema_description: A map of trails
attribution: <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>
sources:
  osm:
    type: osm
    local_path: data/sources/planet.osm.pbf
layers:
  - id: trail
    features:
      - source: osm
        geometry: line
        min_zoom: 7
        include_when:
          highway:
            - bridleway
            - cycleway
            - footway
            - path
            - steps
            - track
            - via_ferrata
          __all__:
            # we only care about tracks if they have some trail access tag
            - highway: track
            - __any__:
              atv: __any__
              bicycle: __any__
              dog: __any__
              foot: __any__
              horse: __any__  
              ski: __any__
              ski:nordic: __any__
              wheelchair: __any__
        exclude_when:
          footway: __any__
          golf: cartpath
          indoor: __any__
        attributes:
          - key: highway
            tag_value: highway
          - key: piste:type
            tag_value: piste:type
          - key: name
            tag_value: name
          - key: alt_name
            tag_value: alt_name
          - key: short_name
            tag_value: short_name
          - key: official_name
            tag_value: official_name
          - key: description
            tag_value: description
          - key: note
            tag_value: note
          - key: fixme
            tag_value: fixme
          - key: source
            tag_value: source
          - key: bridge
            tag_value: bridge
          - key: ford
            tag_value: ford
          - key: embankment
            tag_value: embankment
          - key: cutting
            tag_value: cutting
          - key: tunnel
            tag_value: tunnel
          - key: trailblazed
            tag_value: trailblazed
          - key: symbol
            tag_value: symbol
          - key: colour
            tag_value: colour
          - key: access
            tag_value: access
          - key: toll
            tag_value: toll
          - key: fee
            tag_value: fee
          - key: seasonal
            tag_value: seasonal
          - key: foot
            tag_value: foot
          - key: bicycle
            tag_value: bicycle
          - key: horse
            tag_value: horse
          - key: dog
            tag_value: dog
          - key: ski
            tag_value: ski
          - key: ski:nordic
            tag_value: ski:nordic
          - key: inline_skates
            tag_value: inline_skates
          - key: vehicle
            tag_value: vehicle
          - key: motor_vehicle
            tag_value: motor_vehicle
          - key: atv
            tag_value: atv
          - key: motorcycle
            tag_value: motorcycle
          - key: moped
            tag_value: moped
          - key: motorcar
            tag_value: motorcar
          - key: golf_cart
            tag_value: golf_cart
          - key: wheelchair
            tag_value: wheelchair
          - key: wheelchair:description
            tag_value: wheelchair:description
          - key: ramp
            tag_value: ramp
          - key: ramp:bicycle
            tag_value: ramp:bicycle
          - key: ramp:stroller
            tag_value: ramp:stroller
          - key: ramp:wheelchair
            tag_value: ramp:wheelchair
          - key: speed_pedelec
            tag_value: speed_pedelec
          - key: oneway
            tag_value: oneway
          - key: oneway:bicycle
            tag_value: oneway:bicycle
          - key: incline
            tag_value: incline
          - key: width
            tag_value: width
          - key: mtb
            tag_value: mtb
          - key: mtb:scale
            tag_value: mtb:scale
          - key: mtb:scale:uphill
            tag_value: mtb:scale:uphill
          - key: mtb:scale:imba
            tag_value: mtb:scale:imba
          - key: surface
            tag_value: surface
          - key: smoothness
            tag_value: smoothness
          - key: tracktype
            tag_value: tracktype
          - key: trail_visibility
            tag_value: trail_visibility
          - key: sac_scale
            tag_value: sac_scale
          - key: informal
            tag_value: informal
          - key: operator
            tag_value: operator
          - key: operator:type
            tag_value: operator:type
          - key: operator:wikidata
            tag_value: operator:wikidata
          - key: wikidata
            tag_value: wikidata
  - id: trail_name
    features:
      - source: osm
        geometry: line
        min_zoom: 10
        include_when:
          __all__:
            name: __any__
            __any__:
              highway:
                - bridleway
                - cycleway
                - footway
                - path
                - steps
                - track
                - via_ferrata
              __all__:
                # we only care about tracks if they have some trail access tag
                - highway: track
                - __any__:
                  atv: __any__
                  bicycle: __any__
                  dog: __any__
                  foot: __any__
                  horse: __any__  
                  ski: __any__
                  ski:nordic: __any__
                  wheelchair: __any__
        exclude_when:
          footway: __any__
          golf: cartpath
          indoor: __any__
        attributes:
          - key: name
            tag_value: name
    tile_post_process:
      merge_line_strings:
        min_length: 10
        tolerance: 0.1
        buffer: 5
  - id: trail_poi
    features:
      - source: osm
        geometry: point
        min_zoom: 10
        include_when:
          highway:
            - trailhead
          amenity:
            - ranger_station
        attributes:
          - key: highway
            tag_value: highway
          - key: name
            tag_value: name
          - key: alt_name
            tag_value: alt_name
          - key: short_name
            tag_value: short_name
          - key: official_name
            tag_value: official_name
          - key: description
            tag_value: description
          - key: note
            tag_value: note
          - key: fixme
            tag_value: fixme
          - key: source
            tag_value: source
          - key: access
            tag_value: access
          - key: wheelchair
            tag_value: wheelchair
          - key: wheelchair:description
            tag_value: wheelchair:description
          - key: dog
            tag_value: dog
          - key: opening_hours
            tag_value: opening_hours
          - key: ele
            tag_value: ele
          - key: toll
            tag_value: toll
          - key: fee
            tag_value: fee
          - key: charge
            tag_value: charge
          - key: seasonal
            tag_value: seasonal
          - key: website
            tag_value: website
          - key: phone
            tag_value: phone
          - key: drinking_water
            tag_value: drinking_water
          - key: bin
            tag_value: bin
          - key: toilets
            tag_value: toilets
          - key: toilets:access
            tag_value: toilets:access
          - key: toilets:wheelchair
            tag_value: toilets:wheelchair
          - key: operator
            tag_value: operator
          - key: operator:type
            tag_value: operator:type
          - key: operator:wikidata
            tag_value: operator:wikidata
          - key: wikidata
            tag_value: wikidata
          - key: addr:housenumber
            tag_value: addr:housenumber
          - key: addr:street
            tag_value: addr:street
          - key: addr:city
            tag_value: addr:city
          - key: addr:postcode
            tag_value: addr:postcode
          - key: addr:state
            tag_value: addr:state
          - key: addr:country
            tag_value: addr:country
          - key: addr:district
            tag_value: addr:district
          - key: addr:province
            tag_value: addr:province
          - key: addr:suburb
            tag_value: addr:suburb
          - key: addr:place
            tag_value: addr:place
          - key: addr:hamlet
            tag_value: addr:hamlet
          - key: addr:neighbourhood
            tag_value: addr:neighbourhood
args:
  area:
    description: Geofabrik area to download
    default: rhode-island
